# linux

## 虚拟机

### 快照

- 用于虚拟机备份/还原

## 基础命令

### [vim](vim.md)

### 文件系统

- 整个系统都在根目录/下
- linux中层级用/表示，windows用\\(//)
  - 此外开头一定会有一个/ 表示根目录
  - 之后的/表示层级关系

### 基础概念

- 命令行：linux终端，一种命令提示符界面，以纯字符操作系统，发出指令。
- 命令：linux程序，可以在终端中提供字符化反馈。
- 基础格式 command [-options] [parameter]
  - command 命令本身
  - -options 命令的一些选项，控制行为细节
    - 可以组合使用，如：-l -a或-la或-al均可
  - parameter 命令的参数，多用于指向目标
- linux系统终端默认会加载HOME目录为当前的工作目录
  - HOME目录：每个Linux系统的个人账户目录（/home/用户名）
  - /home/用户名/~

- 路径

  - 绝对路径：以根目录为起点

  - 相对路径：以当前路径为起点

  - 特殊路径符
    - .表示当前目录 cd ./Desktop等价于cd Desktop
    - ..表示上一级目录 cd ..返回上一级目录 cd../..上两级
    - ~ HOME目录

- 通配符

  - \* 匹配任意内容
  - test\* 以test开头
  - \*test 以test结尾
  - \*test\* 包含test
- | 管道符，将管道左边命令的结果作为右边命令的输入
  - 比如cat text01.txt | grep xxx 等价于 grep xxx text01.txt
  - 如查找文件 ls xx | grep xx
  - 嵌套使用xx|xx|xx|...依次向右传递

- ctrl+c 强制停止命令的执行

### 文件命令

- ls [-a -l -h] [linux路径]
  - 省缺参数时直接列出当前工作目录下的内容
  - 选项
    - -a 列出全部的文件（包含隐藏的文件和文件夹）
    - -l 以列表的形式展现详细内容
    - -h 与l一起用，-hl以kb/mb等显示文件大小
- cd [linux路径] 切换工作目录
  - 省缺参数默认为home路径
- pwd 输出当前工作目录
- mkdir [-p] linux路径 新建文件夹
  - -p自动创建不存在的父目录，即连续创建多级目录
  - 创建文件需要修改权限，HOME文件夹外无法成功
- touch linux路径 创建路径
- cat linux路径 查看文件内容
- more linux路径 翻页查看
  - 空格 下一页
  - q 退出查看
- cp [-r] 路径1 路径2 复制文件（夹）
  - -r 用于复制文件夹
  - 从路径1复制到路径2
- mv 路径1 路径2 移动文件（夹）
  - 可用于重命名 mv test01.txt test02.txt
- rm [-r -f] 路径1 路径2 ...  删除
  - -r用于删除文件夹
  - -f强制删除，不弹出提示（管理员用户）
  - 一次可以删除多个
- grep [-n] 关键字 文件路径，通过关键字过滤文件行
  - -n 在结果中显示匹配的行号
  - 关键字，表示过滤的关键字，包含空格等特殊符号时用“”包住
  - 文件路径，要过滤内容的文件，可作为内容输入端口(可以由管道符输入)

- wc [-c -m -l -w] 文件路径，统计文件信息
  - -c 统计bytes数目
  - -m 统计字符数目
  - -l 统计行数
  - -w 统计单词数目
  - 默认输出 行数+单词数+字节数
  - 文件路径，要统计内容的文件，可作为内容输入端口

- which 要查找的命令
  - 命令如ls本质上是一个个程序
  - which用于查看which的程序文件在哪里

- find 起始路径 -name “文件名称”
  - 可以结合，通配符使用
  - find 起始路径 -size +(-)n[单位] ，按照文件的大小查找
    - \+\-表示大于和小于
    - n表示数字
    - 单位：k表示kb，M表示MB，G表示GB
    - 如 find / -size-10k

- echo 内容（可以用双引号包含）
  - 用于在命令行内输出内容
  - 用反引号`包含的内容会被作为命令执行
  - 如echo  \`ls\`

- 重定向符
  - \>将左侧命令结果覆盖写入右侧指定文件
  - \>>将左侧命令追加写入右侧文件中
  - 如echo "xxx" > text.txt

- tail [-f -num] Linux路径 ，查看文件尾部内容，跟踪文件最新更改
  - -f 表示持续跟踪
    - 会实时显示文件内容的更改（当此文件在其它终端中被修改时）

  - -num 表示查看尾部多少行，默认为10

### 用户系统	

- root用户（超级管理员）
  - 拥有最大权限
  - 普通用户一般只在home目录内不受限，在大多位置都没修改权限
- su [-] [用户名]， 用户切换
  - -表示切换用户后加载环境变量
  - 用户名默认为root
  - 切换到root需要输入密码
- exit 回退到上一个用户
  - 快捷键 ctrl+d 
- sudo 其它命令
  - 为一条命令赋予root权限
  - 只有被sudo认真的用户才能使用sudo命令
    - root用户 输入visudo 打开/etc/sudoers
    - 在文件最后添加`username ALL=(ALL) NOPASSWD: ALL`

- 用户与用户组
  - 可以配置多个用户、用户组
  - 一个用户可以加入多个用户组
  - linux中的权限管控可以是针对用户的也可以是针对用户组的
  - 用户组管理：只有root用户才能执行
    - groupadd 用户组名，创建用户组
    - groupdel 用户组名， 删除用户组
  - 用户管理
    - useradd  [-g -d] 用户名
      - -g指定用户的组，指定的组必须是已经存在的组，不指定会创建同名组并自动加入
        - 如-g its
      - -d指定用户的home路径，默认为/home/用户名
        - 如-d /home/test
    - userdel [-r] 用户名
      - -r 同时删除对应的home目录
    - id [用户名]，查看用户所属的组，默认查看子集
    - usermod -aG 用户组  用户名 ，将指定用户加入指定
  - getent passwd 显示操作系统中的全部用户
    - thdlrt: x:1000:1000:thdlrt:/home/thdlrt:/bin/bash
    - 用户名：密码：id：组id：描述信息：home目录：执行终端（默认bash）
  - getent group查看组的信息
    - test: x:1001:thdlrt
    - 组名：组认证：id
- 权限控制
